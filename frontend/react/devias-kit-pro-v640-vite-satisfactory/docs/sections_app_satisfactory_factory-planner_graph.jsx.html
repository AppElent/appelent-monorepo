<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sections/app/satisfactory/factory-planner/graph.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sections/app/satisfactory/factory-planner/graph.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Cytoscape from 'src/custom/libs/Cytoscape';

import { stylesheet, NODE_TYPE, NODE_COLOR_CLASS } from 'src/custom/libs/satisfactory/graph';

/**
 * Returns a rounded float
 * @param {number} n Original number
 * @param {number} places Placed to round
 * @returns {number} Rounded float
 */
function truncateFloat(n, places = 4) {
  return n.toFixed(places).replace(/\.?0+$/, '');
}

/**
 *
 * @param node
 * @param gameData
 */
function getNodeLabel(node, gameData) {
  let label = '';
  let amountText = '';
  if (node.type === NODE_TYPE.RECIPE) {
    const recipe = gameData.recipes[node.key];
    label = recipe.name;
    amountText = `${truncateFloat(node.multiplier)}x ${gameData.buildings[recipe.producedIn].name}`;
  } else {
    const item = gameData.items[node.key];
    if (node.type === NODE_TYPE.SIDE_PRODUCT) {
      label = `Side Product:\n${item.name}`;
    } else {
      label = item.name;
    }
    amountText = `${truncateFloat(node.multiplier)} / min`;
  }
  return `${label}\n${amountText}`;
}

/**
 *
 * @param node
 * @param gameData
 */
function getNodeClasses(node, gameData) {
  const classes = [];
  if (node.type === NODE_TYPE.RECIPE) {
    classes.push('recipe-shape');
    const recipe = gameData.recipes[node.key];
    if (recipe.producedIn === 'Desc_GeneratorNuclear_C') {
      classes.push('nuclear');
    } else {
      classes.push(NODE_COLOR_CLASS[node.type]);
    }
  } else {
    classes.push('item-shape');
    classes.push(NODE_COLOR_CLASS[node.type]);
  }
  return classes;
}

/**
 *
 * @param edge
 * @param gameData
 */
function getEdgeLabel(edge, gameData) {
  const item = gameData.items[edge.key];
  const label = item.name;
  const amountText = `${truncateFloat(edge.productionRate)} / min`;
  return `${label}\n${amountText}`;
}

const layout = {
  name: 'random',
  padding: 40,
  transform: (node, pos) => {
    return pos;
  },
  klay: {
    direction: 'RIGHT',
    edgeRouting: 'ORTHOGONAL',
    nodePlacement: 'LINEAR_SEGMENTS',
    edgeSpacingFactor: 0.2,
    inLayerSpacingFactor: 0.7,
    spacing: 40,
    thoroughness: 10,
  },
};

const Graph = ({ data, setData }) => {
  return (
    &lt;Cytoscape
      elements={data.elements}
      //style={{ width: '100%', height: '100%' }}
      //style={{ width: '100vw', height: '100vh' }}
      layout={layout}
      stylesheet={stylesheet}
    />
  );
};

export default Graph;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#EditToolbar">EditToolbar</a></li><li><a href="global.html#NO_OP">NO_OP</a></li><li><a href="global.html#RouterLink">RouterLink</a></li><li><a href="global.html#SatisfactoryGamesFactoryRecipes">SatisfactoryGamesFactoryRecipes</a></li><li><a href="global.html#applyPagination">applyPagination</a></li><li><a href="global.html#applySort">applySort</a></li><li><a href="global.html#capFirst">capFirst</a></li><li><a href="global.html#createGuid">createGuid</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#descendingComparator">descendingComparator</a></li><li><a href="global.html#generateName">generateName</a></li><li><a href="global.html#getComparator">getComparator</a></li><li><a href="global.html#getEdgeLabel">getEdgeLabel</a></li><li><a href="global.html#getNodeClasses">getNodeClasses</a></li><li><a href="global.html#getNodeLabel">getNodeLabel</a></li><li><a href="global.html#getRandomInt">getRandomInt</a></li><li><a href="global.html#pageSizeReducer">pageSizeReducer</a></li><li><a href="global.html#paginate">paginate</a></li><li><a href="global.html#paginationStateReducer">paginationStateReducer</a></li><li><a href="global.html#recipeChart">recipeChart</a></li><li><a href="global.html#totalItemsReducer">totalItemsReducer</a></li><li><a href="global.html#truncateFloat">truncateFloat</a></li><li><a href="global.html#useAnalytics">useAnalytics</a></li><li><a href="global.html#useDialog">useDialog</a></li><li><a href="global.html#useKey">useKey</a></li><li><a href="global.html#useLocalStorage">useLocalStorage</a></li><li><a href="global.html#useNprogress">useNprogress</a></li><li><a href="global.html#usePopover">usePopover</a></li><li><a href="global.html#useRouter">useRouter</a></li><li><a href="global.html#useSearchParams">useSearchParams</a></li><li><a href="global.html#useThreads">useThreads</a></li><li><a href="global.html#useUpdateEffect">useUpdateEffect</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Oct 09 2023 13:07:06 GMT+0200 (Midden-Europese zomertijd)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
